{"ast":null,"code":"let timeoutId;\n\nconst reducer = (store = 'null', action) => {\n  console.log('action:', action);\n\n  switch (action.type) {\n    case 'SET_NOTIFICATION':\n      return action.message;\n\n    default:\n      return store;\n  }\n};\n\nexport const notify = (message, type, seconds) => {\n  return async dispatch => {\n    dispatch({\n      type: 'SET_NOTIFICATION',\n      notification: {\n        message,\n        type\n      }\n    });\n\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n\n    timeoutId = setTimeout(() => dispatch({\n      type: 'SET_NOTIFICATION',\n      notification: null\n    }), seconds * 1000);\n  };\n};\nexport default reducer;","map":{"version":3,"sources":["/home/local/esksami/AAA-Backup/School_N/FullStackPalautuksetHashtag2020/Osa7/bloglist-frontend/src/reducers/notificationReducer.js"],"names":["timeoutId","reducer","store","action","console","log","type","message","notify","seconds","dispatch","notification","clearTimeout","setTimeout"],"mappings":"AAAA,IAAIA,SAAJ;;AAEA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAG,MAAT,EAAiBC,MAAjB,KAA4B;AAC1CC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,MAAvB;;AAEA,UAAQA,MAAM,CAACG,IAAf;AACE,SAAK,kBAAL;AACE,aAAOH,MAAM,CAACI,OAAd;;AACF;AACE,aAAOL,KAAP;AAJJ;AAMD,CATD;;AAWA,OAAO,MAAMM,MAAM,GAAG,CAACD,OAAD,EAAUD,IAAV,EAAgBG,OAAhB,KAA4B;AAChD,SAAO,MAAOC,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CAAC;AACPJ,MAAAA,IAAI,EAAE,kBADC;AAEPK,MAAAA,YAAY,EAAE;AAAEJ,QAAAA,OAAF;AAAWD,QAAAA;AAAX;AAFP,KAAD,CAAR;;AAKA,QAAIN,SAAJ,EAAe;AACbY,MAAAA,YAAY,CAACZ,SAAD,CAAZ;AACD;;AAEDA,IAAAA,SAAS,GAAGa,UAAU,CAAC,MAAMH,QAAQ,CAAC;AACpCJ,MAAAA,IAAI,EAAE,kBAD8B;AAEpCK,MAAAA,YAAY,EAAE;AAFsB,KAAD,CAAf,EAGlBF,OAAO,GAAG,IAHQ,CAAtB;AAID,GAdD;AAeD,CAhBM;AAmBP,eAAeR,OAAf","sourcesContent":["let timeoutId\n\nconst reducer = (store = 'null', action) => {\n  console.log('action:', action)\n\n  switch (action.type) {\n    case 'SET_NOTIFICATION':\n      return action.message\n    default:\n      return store\n  }\n}\n\nexport const notify = (message, type, seconds) => {\n  return async (dispatch) => {\n    dispatch({\n      type: 'SET_NOTIFICATION',\n      notification: { message, type }\n    })\n\n    if (timeoutId) {\n      clearTimeout(timeoutId)\n    }\n\n    timeoutId = setTimeout(() => dispatch({\n      type: 'SET_NOTIFICATION',\n      notification: null\n    }), seconds * 1000)\n  }\n}\n\n\nexport default reducer"]},"metadata":{},"sourceType":"module"}